<!doctype html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Bootstrap 5 -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" />

        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Barrio&family=Cal+Sans&family=Cherry+Cream+Soda&family=Jockey+One&family=Lexend:wght@100..900&family=Macondo&family=Michroma&family=Outfit:wght@100..900&family=Quintessential&family=Zen+Dots&display=swap" rel="stylesheet">

        <!-- Estilo Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

        <!-- Estilo CSS -->
        <link rel="stylesheet" href="estilo-xanadu.css" />

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
        <title>Cine Xanadú</title>
    </head>
    <body>
        <!-- Header Section -->
        <header>
            <nav class="navbar navbar-expand-lg navbar-light">
                <div class="container">
                    <a class="navbar-brand" href="index.html">
                        <img
                            src="images/logo-intu-xanadu.png"
                            alt="Logo Centro Comercial Xanadú"
                            class="img-fluid"
                            style="max-height: 60px" />
                    </a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="index.html">Portada</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="ocio.html">Ocio</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="cine.html">Cine</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="pista_de_nieve.html">Pista de Hielo</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="tiendas.html">Tiendas</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="restaurantes.html">Restaurantes</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="visitanos.html">Visítanos</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="contacto.html">Contáctanos</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-bold" href="aviso-legal.html">Aviso Legal</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <div class="container hero-title">
                    <h1><i class="fas fa-star me-3"></i>Cine Xanadú</h1>
                    <p class="hero-subtitle">
                        ¡Bienvenido al Cine Xanadú! Aquí podrás disfrutar de las últimas películas en un ambiente cómodo
                        y moderno.
                    </p>
                </div>
            </div>
        </section>

        <main class="container fade-in">
            <!-- Cartelera Section -->
            <section id="cartelera" class="mb-5">
                <div class="text-center">
                    <h2 class="section-title"><i class="fas fa-ticket-alt me-2"></i>Cartelera</h2>
                </div>
                <div id="movies-container" class="row g-4">
                    <!-- Las películas se cargarán dinámicamente aquí -->
                    <div class="col-12 text-center">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Cargando películas...</span>
                        </div>
                        <p class="mt-2">Cargando cartelera...</p>
                    </div>
                </div>
            </section>

            <!-- Información del Cine -->
            <section id="instalaciones" class="mb-5">
                <div class="row g-4">
                    <div class="col-md-6">
                        <div class="card info-card h-100">
                            <div class="card-header">
                                <h2 class="h5 mb-0"><i class="fas fa-building me-2"></i>Nuestras Instalaciones</h2>
                            </div>
                            <div class="card-body">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        <i class="fas fa-volume-up text-primary me-2"></i>8 Salas con Sonido Dolby Atmos
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-tv text-primary me-2"></i>Proyección Digital 4K
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-chair text-primary me-2"></i>Butacas Premium Reclinables
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-crown text-primary me-2"></i>Sala VIP con Servicio Exclusivo
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-wheelchair text-primary me-2"></i>Accesibilidad Total
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="card info-card h-100">
                            <div class="card-header">
                                <h2 class="h5 mb-0"><i class="fas fa-clock me-2"></i>Horarios y Localización</h2>
                            </div>
                            <div class="card-body">
                                <h3 class="h6"><i class="fas fa-calendar-alt me-2"></i>Horario de Taquilla:</h3>
                                <ul class="list-unstyled mb-4">
                                    <li>
                                        <i class="fas fa-circle text-primary me-2" style="font-size: 0.5rem"></i>Lunes a
                                        Viernes: 12:00 - 23:00
                                    </li>
                                    <li>
                                        <i class="fas fa-circle text-primary me-2" style="font-size: 0.5rem"></i>Sábados
                                        y Domingos: 10:00 - 00:00
                                    </li>
                                </ul>
                                <h3 class="h6"><i class="fas fa-map-marker-alt me-2"></i>Ubicación:</h3>
                                <p>
                                    Centro Comercial Xanadú<br />
                                    Planta 2, Junto a SnowZone<br />
                                    Puerto de Navacerrada, S/N<br />
                                    28939 Arroyomolinos, Madrid
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cafetería -->
            <section id="cafeteria" class="mb-5">
                <div class="card info-card">
                    <div class="card-header">
                        <h2 class="h5 mb-0"><i class="fas fa-coffee me-2"></i>Cafetería y Snacks</h2>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h3 class="h6 mb-3"><i class="fas fa-utensils me-2"></i>Menú de Aperitivos</h3>
                                <ul class="list-group">
                                    <li
                                        class="list-group-item menu-item d-flex justify-content-between align-items-center">
                                        <span
                                            ><i class="fas fa-seedling me-2 text-warning"></i>Palomitas
                                            Dulces/Saladas</span
                                        >
                                        <span class="badge">Desde 4€</span>
                                    </li>
                                    <li
                                        class="list-group-item menu-item d-flex justify-content-between align-items-center">
                                        <span><i class="fas fa-cheese me-2 text-warning"></i>Nachos con Queso</span>
                                        <span class="badge">5.50€</span>
                                    </li>
                                    <li
                                        class="list-group-item menu-item d-flex justify-content-between align-items-center">
                                        <span><i class="fas fa-hotdog me-2 text-warning"></i>Hot Dogs</span>
                                        <span class="badge">4.50€</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h3 class="h6 mb-3"><i class="fas fa-glass-cheers me-2"></i>Bebidas y Dulces</h3>
                                <ul class="list-group">
                                    <li
                                        class="list-group-item menu-item d-flex justify-content-between align-items-center">
                                        <span><i class="fas fa-glass-whiskey me-2 text-info"></i>Refrescos</span>
                                        <span class="badge">3€</span>
                                    </li>
                                    <li
                                        class="list-group-item menu-item d-flex justify-content-between align-items-center">
                                        <span><i class="fas fa-tint me-2 text-info"></i>Agua Mineral</span>
                                        <span class="badge">2€</span>
                                    </li>
                                    <li
                                        class="list-group-item menu-item d-flex justify-content-between align-items-center">
                                        <span
                                            ><i class="fas fa-candy-cane me-2 text-danger"></i
                                            >Chocolates/Caramelos</span
                                        >
                                        <span class="badge">Desde 2€</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-md-4 mb-4 mb-md-0">
                        <h4>Intu Xanadú</h4>
                        <p>Centro Comercial y de Ocio</p>
                        <p><i class="fas fa-map-marker-alt"></i> Autovía A-5, km 23.5, 28939 Arroyomolinos, Madrid</p>
                        <p><i class="fas fa-phone"></i> 91 659 98 00</p>
                    </div>
                    <div class="col-md-4 mb-4 mb-md-0">
                        <h4>Horarios</h4>
                        <p><i class="far fa-clock"></i> Lunes a domingo: 10:00 - 22:00</p>
                        <p><i class="fas fa-utensils"></i> Restauración: 10:00 - 00:00</p>
                        <p><i class="fas fa-film"></i> Ocio: Consultar horarios específicos</p>
                    </div>
                    <div class="col-md-4">
                        <h4>Síguenos</h4>
                        <div class="social-icons">
                            <a href="#"><i class="fab fa-facebook"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col text-center">
                        <p class="mb-0">© 2025 Intu Xanadú. Todos los derechos reservados.</p>
                        <p class="mb-0">Diseñado por Cristian Guerrero, Diego Monsalve, Hugo Lopez, Daniel Alaez</p>
                    </div>
                </div>
            </div>
        </footer>
        
        <script>
            // Función para cargar las películas desde el JSON
            async function loadMovies() {
                try {
                    // Intentar cargar desde el JSON primero
                    const response = await fetch('./movies.json');
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const data = await response.json();
                    displayMovies(data.movies);
                } catch (error) {
                    console.error('Error cargando las películas desde JSON:', error);
                    console.log('Cargando películas desde datos de respaldo...');
                    // Si falla, usar datos de respaldo (fallback)
                    loadFallbackMovies();
                }
            }

            // Función de respaldo con datos 
            function loadFallbackMovies() {
                const fallbackMovies = [
                    {
                        "id": 1,
                        "title": "Thunderbolts",
                        "director": "Eric Pearson, LeeSung, Joanna Calo",
                        "cast": "Sebastian Stan, Florence Pugh, Wyat Russell y más",
                        "synopsis": "Película de Marvel en la que -como si de un Escuadrón suicida se tratase- un grupo de villanos son enviados a misiones por encargo del gobierno.",
                        "poster": "images/thunderbolts.jpg",
                        "ticketUrl": "https://www.cinesa.es/cines/intu-xanadu/"
                    },
                    {
                        "id": 2,
                        "title": "Minecraft",
                        "director": "Jared Hess",
                        "cast": "Jack Black, Jason Momoa, Danielle Brooks, Emma Myers",
                        "synopsis": "Bienvenido al mundo de Minecraft, donde la creatividad no sólo ayuda a crear, sino que es esencial para la supervivencia.",
                        "poster": "images/minecraft.jpg",
                        "ticketUrl": "https://www.cinesa.es/peliculas/una-pelicula-de-minecraft/HO00001976/"
                    },
                    {
                        "id": 3,
                        "title": "In the Lost Lands",
                        "director": "Paul W.S. Anderson",
                        "cast": "Milla Jovovich, Dave Bautista",
                        "synopsis": "Basada en el relato de George R.R. Martin. Una reina desesperada por encontrar la felicidad en el amor envía a una poderosa bruja a las Tierras Perdidas.",
                        "poster": "images/inthelostlands.jpg",
                        "ticketUrl": "https://entradas.cinexanadu.com"
                    },
                    {
                        "id": 4,
                        "title": "Warfare",
                        "director": "Ray Mendoza y Alex Garland",
                        "cast": "D'Pharaoh Woon-A-Tai, Charles Melton, Joseph Quinn",
                        "synopsis": "Basada en las experiencias reales del ex marine Ray Mendoza durante la guerra de Irak. Una historia visceral sobre la guerra moderna.",
                        "poster": "images/Warfare.jpg",
                        "ticketUrl": "https://www.cinesa.es/peliculas/warfare-tiempo-de-guerra/HO00002145/"
                    },
                    {
                        "id": 5,
                        "title": "Until Dawn",
                        "director": "David F. Sandberg",
                        "cast": "Ella Rubin, Michael Cimino, Ji-young Yoo, Odessa A'zion",
                        "synopsis": "Un año después de la misteriosa desaparición de su hermana Melanie, Clover y sus amigas buscan respuestas en un valle remoto.",
                        "poster": "images/untildawn.jpg",
                        "ticketUrl": "https://www.cinesa.es/peliculas/until-dawn/HO00002115/"
                    },
                    {
                        "id": 6,
                        "title": "Sinners",
                        "director": "Ryan Coogler",
                        "cast": "Michael B. Jordan, Delroy Lindo, Jack O'Connell, Hailee Steinfeld",
                        "synopsis": "Los hermanos gemelos regresan a su pueblo natal para empezar de nuevo, solo para descubrir que un mal aún mayor los espera.",
                        "poster": "images/sinners.jpg",
                        "ticketUrl": "https://www.cinesa.es/peliculas/los-pecadores/HO00002083/"
                    }
                ];
                
                displayMovies(fallbackMovies);
            }

            // Función para mostrar las películas en el DOM
            function displayMovies(movies) {
                const container = document.getElementById('movies-container');
                container.innerHTML = '';

                movies.forEach(movie => {
                    const movieCard = createMovieCard(movie);
                    container.appendChild(movieCard);
                });

                // Aplicar animaciones a las nuevas tarjetas
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add("fade-in");
                        }
                    });
                }, {
                    threshold: 0.1,
                    rootMargin: "0px 0px -100px 0px"
                });

                document.querySelectorAll(".movie-card").forEach((card) => {
                    observer.observe(card);
                });
            }

            // Función para crear una tarjeta de película
            function createMovieCard(movie) {
                const col = document.createElement('div');
                col.className = 'col-lg-4 col-md-6 mb-4';

                col.innerHTML = `
                    <div class="card movie-card h-100">
                        <div>
                            <img src="${movie.poster}" class="card-img-top portait" alt="${movie.title}" />
                        </div>
                        <div class="card-body">
                            <h3 class="card-title">${movie.title}</h3>
                            <p class="card-text"><mark>Director:</mark> ${movie.director}</p>
                            <p class="card-text"><mark>Reparto:</mark> ${movie.cast}</p>
                            <p class="card-text">
                                <mark>Sinopsis:</mark> ${movie.synopsis}
                            </p>
                            <a href="${movie.ticketUrl}" class="btn btn-primary mt-3" target="_blank">
                                <i class="fas fa-shopping-cart me-2"></i>Comprar Entradas
                            </a>
                        </div>
                    </div>
                `;

                return col;
            }

            // Función para mostrar mensaje de error (mantenida para compatibilidad)
            function displayErrorMessage() {
                const container = document.getElementById('movies-container');
                container.innerHTML = `
                    <div class="col-12 text-center">
                        <div class="alert alert-warning" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            No se pudieron cargar las películas en este momento. 
                            Por favor, inténtalo más tarde.
                        </div>
                    </div>
                `;
            }

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
                anchor.addEventListener("click", function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute("href"));
                    if (target) {
                        target.scrollIntoView({
                            behavior: "smooth",
                            block: "start"
                        });
                    }
                });
            });

            // Inicializar la carga de películas cuando el DOM esté listo
            document.addEventListener('DOMContentLoaded', loadMovies);
        </script>
    </body>
</html>